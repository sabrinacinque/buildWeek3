import{a as K}from"./chunk-GQJKORC2.js";import{a as J}from"./chunk-IDADSUUJ.js";import{a as dt}from"./chunk-IEEPVKIX.js";import{m as L}from"./chunk-SCFMMJMN.js";import"./chunk-NQJKZR6M.js";import{$ as S,Ea as z,F as b,Fa as q,Ga as Q,Ha as $,Ia as p,Ja as h,K as d,Ka as M,L as w,Q as C,R as y,Ra as B,Sa as E,Ta as I,Ua as N,Y as P,_ as a,a as O,ab as U,b as j,bb as A,cb as R,d as pt,fb as H,ga as k,gb as V,ia as s,ib as Z,nb as G,qa as o,qb as D,ra as r,sa as l,ta as T,ya as g,za as v}from"./chunk-WGR6NMIH.js";var W=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-menu"]],decls:2,vars:0,template:function(e,c){e&1&&(o(0,"p"),p(1,"menu works!"),r())}});let i=t;return i})();var X=pt(dt());var ft=["cartModal"],ut=i=>({show:i});function vt(i,t){if(i&1){let m=T();o(0,"div",12)(1,"button",13),g("click",function(){C(m);let e=v(),c=$(16);return y(e.openCart(c))}),l(2,"i",14),p(3," Visualizza Ordine "),o(4,"span",15),p(5),r()()()}if(i&2){let m=v();a(5),h(m.cartItems.length)}}function Ct(i,t){if(i&1){let m=T();o(0,"div",16)(1,"div",17),l(2,"img",18),o(3,"h5",19),p(4),r(),o(5,"p",20),p(6),E(7,"currency"),r(),o(8,"p",21),p(9),r(),o(10,"div",22)(11,"div",23)(12,"button",24),g("click",function(){let e=C(m).$implicit,c=v();return y(c.decrementQuantity(e))}),l(13,"i",25),r(),o(14,"div",26)(15,"p",27),p(16),r()(),o(17,"button",24),g("click",function(){let e=C(m).$implicit,c=v();return y(c.incrementQuantity(e))}),l(18,"i",28),r()(),o(19,"button",29),g("click",function(){let e=C(m).$implicit,c=v();return y(c.addToCart(e))}),o(20,"i",30),p(21," Aggiungi al carrello"),r()()()()()}if(i&2){let m=t.$implicit;a(2),s("src","../../../assets/image/png/"+m.img,P),a(2),h(m.titolo),a(2),M(" ",I(7,5,m.prezzo,"EUR")," "),a(3),h(m.ingredienti),a(7),M("Quantit\xE0: ",m.quantity,"")}}function yt(i,t){i&1&&(o(0,"div")(1,"p"),p(2,"Il carrello \xE8 vuoto."),r()())}function gt(i,t){if(i&1){let m=T();o(0,"div",45)(1,"div",46),p(2),r(),o(3,"button",47),g("click",function(){let e=C(m).$implicit,c=v(3);return y(c.decrementQuantity(e))}),p(4," - "),r(),o(5,"div",48),p(6),r(),o(7,"button",47),g("click",function(){let e=C(m).$implicit,c=v(3);return y(c.incrementQuantity(e))}),p(8," + "),r(),o(9,"div",49),p(10),E(11,"currency"),r(),o(12,"div",44)(13,"button",50),g("click",function(){let e=C(m).$implicit,c=v(3);return y(c.removeFromCart(e))}),l(14,"i",51),r()()()}if(i&2){let m=t.$implicit;a(2),h(m.titolo),a(4),h(m.quantity),a(4),M(" ",I(11,3,m.prezzo,"EUR")," ")}}function _t(i,t){if(i&1&&(o(0,"div"),k(1,gt,15,6,"div",41),o(2,"div",42)(3,"div",43)(4,"strong"),p(5,"Totale:"),r()(),o(6,"div",44)(7,"strong"),p(8),E(9,"currency"),r()()()()),i&2){let m=v(2);a(),s("ngForOf",m.cartItems),a(7),h(I(9,2,m.getTotalCost(),"EUR"))}}function ht(i,t){if(i&1){let m=T();o(0,"div",31)(1,"h4",32),p(2,"Il tuo carrello"),r(),o(3,"button",33),g("click",function(){let e=C(m).$implicit;return y(e.dismiss("Cross click"))}),o(4,"span",34),p(5,"\xD7"),r()()(),o(6,"div",35),k(7,yt,3,0,"div",36)(8,_t,10,5,"div",36),r(),o(9,"div",37)(10,"button",38),g("click",function(){let e=C(m).$implicit;return v().clearCart(),y(e.close())}),p(11," Svuota carrello "),r(),o(12,"button",39),g("click",function(){C(m);let e=v();return y(e.sendOrder())}),l(13,"i",40),p(14," Invia "),r()()}if(i&2){let m=v();a(7),s("ngIf",m.cartItems.length===0),a(),s("ngIf",m.cartItems.length>0)}}var f=(()=>{let t=class t{constructor(n,e,c,x,F){this.menuSvc=n,this.modalService=e,this.cartSvc=c,this.http=x,this.router=F,this.menu=[],this.showToast=!1,this.apiUrl="http://localhost:3000/orders",this.cartItems=[]}ngOnInit(){this.category&&this.menuSvc.getByCategoryAndAvailability(this.category,this.availability).subscribe(n=>{this.menu=n.map(e=>j(O({},e),{quantity:1}))}),this.cartSvc.cartItems$.subscribe(n=>{this.cartItems=n})}sendOrder(){let n={items:this.cartItems,totalCost:this.cartSvc.getTotalCost()};this.http.post(this.apiUrl,n).subscribe(()=>{this.cartSvc.clearCart(),this.modalService.dismissAll(),X.default.fire({title:"Ordine Inviato",text:"Il tuo ordine \xE8 stato inviato con successo!",icon:"success",confirmButtonText:"OK"}).then(()=>{this.router.navigate(["/homepage"])})})}incrementQuantity(n){n.quantity++}decrementQuantity(n){n.quantity>0&&n.quantity--}addToCart(n){n.quantity>0&&(this.cartSvc.addToCart(n),n.quantity=1,this.showToastMessage())}openCart(n){this.modalService.open(n,{ariaLabelledBy:"modal-basic-title"})}getTotalCost(){return this.cartSvc.getTotalCost()}clearCart(){this.cartSvc.clearCart()}removeFromCart(n){this.cartSvc.removeFromCart(n)}showToastMessage(){this.showToast=!0,setTimeout(()=>{this.showToast=!1},3e3)}hideToast(){this.showToast=!1}};t.\u0275fac=function(e){return new(e||t)(S(K),S(L),S(J),S(Z),S(G))},t.\u0275cmp=d({type:t,selectors:[["app-card"]],viewQuery:function(e,c){if(e&1&&z(ft,5),e&2){let x;q(x=Q())&&(c.cartModal=x.first)}},inputs:{category:"category",availability:"availability"},decls:17,vars:5,consts:[["cartModal",""],[1,"row","me-3","position-fixed","position-absolute","top-0","end-0","z-1"],["class","col-12 d-flex justify-content-end mt-4",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","row-cols-xl-4","p-5"],["class","col mb-4 d-flex justify-content-center text-center mt-4",4,"ngFor","ngForOf"],[1,"toast-container","position-fixed","bottom-0","end-0","p-3"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast",3,"ngClass"],[1,"toast-header"],["id","miche","src","../../../assets/image/michele toast.png","alt","...",1,"rounded","me-2"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"],[1,"col-12","d-flex","justify-content-end","mt-4"],[1,"btn","btn-primary","border","border-none","border-0","fs-5",3,"click"],[1,"bi","bi-cart"],[1,"badge","bg-danger"],[1,"col","mb-4","d-flex","justify-content-center","text-center","mt-4"],[1,"card","h-100","d-flex","flex-column","p-2"],["alt","...",1,"card-img-top",3,"src"],[1,"card-title","fs-3"],[1,"card-text","fs-4","fw-bold"],[1,"card-text","fs-4"],[1,"card-body","d-flex","flex-column","justify-content-end"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","text-light",3,"click"],[1,"bi","bi-dash-circle-fill"],[1,"d-flex","text-center","justify-content-center","align-items-center","px-2","m-0","w-75"],[1,"m-0","p-0"],[1,"bi","bi-plus-circle-fill"],[1,"btn","mt-2","text-light",3,"click"],[1,"bi","bi-cart-plus"],[1,"modal-header","d-flex","justify-content-between"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","btn",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["id","cancella","type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","text-white",3,"click"],[1,"bi","bi-send"],["id","sistemo","class","row",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-md-8"],[1,"col-md-2"],["id","sistemo",1,"row"],[1,"col-md-6"],["id","piumeno","type","button",1,"btn","text-white",3,"click"],["id","quantita",1,"col-md-2"],["id","prezzo",1,"col-md-2"],["id","elimina","type","button",1,"btn","btn-sm","text-white",3,"click"],[1,"bi","bi-trash"]],template:function(e,c){if(e&1){let x=T();o(0,"div",1),k(1,vt,6,1,"div",2),r(),o(2,"div",3),k(3,Ct,22,8,"div",4),r(),o(4,"div",5)(5,"div",6)(6,"div",7),l(7,"img",8),o(8,"strong",9),p(9,"U\xE8 Mich\xE8!"),r(),o(10,"small"),p(11,"Ora"),r(),o(12,"button",10),g("click",function(){return C(x),y(c.hideToast())}),r()(),o(13,"div",11),p(14,"Articolo aggiunto al carrello!"),r()()(),k(15,ht,15,2,"ng-template",null,0,N)}e&2&&(a(),s("ngIf",c.cartItems.length>0),a(2),s("ngForOf",c.menu),a(2),s("ngClass",B(3,ut,c.showToast)))},dependencies:[U,A,R,H],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css";.card[_ngcontent-%COMP%]{width:18em;font-family:GothamPro;font-weight:400;font-style:normal;background-color:#ae9b8d}.btn[_ngcontent-%COMP%]:not(#cancella, .close)[_ngcontent-%COMP%]{font-size:15px;background-color:#99735e}#quantita[_ngcontent-%COMP%]{width:33px}#piumeno[_ngcontent-%COMP%]{width:37px}#sistemo[_ngcontent-%COMP%]{align-items:center}#elimina[_ngcontent-%COMP%]{position:relative;left:24em;bottom:34px}#prezzo[_ngcontent-%COMP%]{position:relative;left:-12em}.card-img-top[_ngcontent-%COMP%]{height:20em;object-fit:contain}#miche[_ngcontent-%COMP%]{width:60px;animation:_ngcontent-%COMP%_scaling 3s infinite alternate}@keyframes _ngcontent-%COMP%_scaling{0%{transform:scale(1)}to{transform:scale(1.5)}}']});let i=t;return i})();var Y=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-antipasti"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Antipasti")("availability",!0))},dependencies:[f]});let i=t;return i})();var tt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-zuppe"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Zuppe")("availability",!0))},dependencies:[f]});let i=t;return i})();var et=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-primi"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Primi")("availability",!0))},dependencies:[f]});let i=t;return i})();var it=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-hosomaki"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Hosomaki")("availability",!0))},dependencies:[f]});let i=t;return i})();var nt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-uramaki"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Uramaki")("availability",!0))},dependencies:[f]});let i=t;return i})();var ot=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-temaki"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Temaki")("availability",!0))},dependencies:[f]});let i=t;return i})();var rt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-sushi"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Sushi")("availability",!0))},dependencies:[f]});let i=t;return i})();var at=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-secondi"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Secondi")("availability",!0))},dependencies:[f]});let i=t;return i})();var ct=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-bibite"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Bibite")("availability",!0))},dependencies:[f]});let i=t;return i})();var mt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-dolci"]],decls:2,vars:2,consts:[[3,"category","availability"]],template:function(e,c){e&1&&(o(0,"div"),l(1,"app-card",0),r()),e&2&&(a(),s("category","Dolci")("availability",!0))},dependencies:[f]});let i=t;return i})();var xt=[{path:"",component:W},{path:"antipasti",component:Y},{path:"zuppe",component:tt},{path:"primi",component:et},{path:"hosomaki",component:it},{path:"uramaki",component:nt},{path:"temaki",component:ot},{path:"sushi",component:rt},{path:"secondi",component:at},{path:"bibite",component:ct},{path:"dolci",component:mt}],st=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w({type:t}),t.\u0275inj=b({imports:[D.forChild(xt),D]});let i=t;return i})();var lt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w({type:t}),t.\u0275inj=b({imports:[V]});let i=t;return i})();var Ee=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w({type:t}),t.\u0275inj=b({imports:[V,st,lt]});let i=t;return i})();export{Ee as MenuModule};
