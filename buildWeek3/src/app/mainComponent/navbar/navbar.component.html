<div class="sidebar-luxury vh-100" id="sidebar-wrapper">
  <!-- Header Logo Section -->
  <div class="sidebar-header-luxury">
    <div class="logo-section-luxury" routerLink="">
      <h2 class="brand-title-sidebar">
        <span class="brand-epi">EPI</span><span class="brand-sushi">SUSHI</span>
      </h2>
      <div class="logo-divider-sidebar"></div>

      <!-- üÜï BADGE STATO TAVOLO - SOLO SE NON LOGGATA -->
      <div *ngIf="!isLogged && (tavoloState$ | async) as tavolo" class="tavolo-status-badge">
        <div *ngIf="tavolo.statoTavolo === 'conto_richiesto'" class="status-conto">
          <i class="bi bi-receipt-cutoff"></i>
          <span>Conto Finale</span>
          <div class="total-badge">{{ tavolo.totaleComplessivo | currency:'EUR' }}</div>
        </div>
      </div>
    </div>

    <!-- Logout Button - SOLO SE LOGGATA -->
    <div *ngIf="isLogged" class="logout-section-luxury" (click)="logout()">
      <div class="logout-button-luxury" title="Logout">
        <i class="bi bi-box-arrow-right"></i>
      </div>
    </div>
  </div>

  <!-- Navigation Menu -->
  <div class="navigation-luxury">
    <nav class="nav-list-luxury">

      <!-- ===== üîê SEZIONE ADMIN (SOLO SE LOGGATA) ===== -->
      <ng-container *ngIf="isLogged">
        <!-- Dashboard Admin -->
        <a routerLink="/dashboard"
           routerLinkActive="active"
           class="nav-item-luxury nav-item-special">
          <div class="nav-content">
            <i class="bi bi-speedometer2 nav-icon"></i>
            <span class="nav-text">Dashboard</span>
            <span class="admin-badge">ADMIN</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <!-- Cucina Admin -->
        <a routerLink="/dashboard/cucina"
           routerLinkActive="active"
           class="nav-item-luxury nav-item-special">
          <div class="nav-content">
            <i class="bi bi-house-gear-fill nav-icon"></i>
            <span class="nav-text">Cucina</span>
            <span class="admin-badge">ADMIN</span>
          </div>
          <div class="nav-glow"></div>
        </a>
      </ng-container>

      <!-- ===== üë§ SEZIONE CLIENTE (SOLO SE NON LOGGATA) ===== -->
      <ng-container *ngIf="!isLogged">
        <!-- Storico Ordini (solo se tavolo attivo) -->
        <a *ngIf="isTavoloAttivo()"
           routerLink="/storico-ordini"
           routerLinkActive="active"
           class="nav-item-luxury nav-item-tavolo">
          <div class="nav-content">
            <i class="bi bi-journal-text nav-icon"></i>
            <span class="nav-text">Storico Ordini</span>
            <span class="ordini-badge">{{ getNumeroOrdini() }}</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <!-- Chiedi il Conto (solo se tavolo attivo) -->
        <a *ngIf="isTavoloAttivo() && !isContoRichiesto()"
           (click)="richiediConto()"
           class="nav-item-luxury nav-item-conto">
          <div class="nav-content">
            <i class="bi bi-receipt-cutoff nav-icon"></i>
            <span class="nav-text">Chiedi il Conto</span>
            <div class="conto-total">{{ getTotaleComplessivo() | currency:'EUR' }}</div>
          </div>
          <div class="nav-glow"></div>
        </a>

        <!-- Conto Richiesto (quando stato = conto_richiesto) -->
        <div *ngIf="isContoRichiesto()"
             class="nav-item-luxury nav-item-conto-richiesto">
          <div class="nav-content">
            <i class="bi bi-check-circle-fill nav-icon"></i>
            <span class="nav-text">Conto Richiesto</span>
            <div class="conto-total">{{ getTotaleComplessivo() | currency:'EUR' }}</div>
          </div>
          <div class="nav-glow"></div>
        </div>

        <!-- Divider (solo se tavolo attivo) -->
        <div *ngIf="isTavoloAttivo()" class="nav-divider-luxury"></div>

        <!-- Menu Categories -->
        <a routerLink="/menu/antipasti"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">ü•ü</span>
            <span class="nav-text">Antipasti</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/zuppe"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üçú</span>
            <span class="nav-text">Zuppe</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/primi"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üçù</span>
            <span class="nav-text">Primi</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/hosomaki"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üç£</span>
            <span class="nav-text">Hosomaki</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/uramaki"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üç±</span>
            <span class="nav-text">Uramaki</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/temaki"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üçô</span>
            <span class="nav-text">Temaki</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/sushi"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üçö</span>
            <span class="nav-text">Sushi</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/secondi"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üêü</span>
            <span class="nav-text">Secondi</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/dolci"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üç°</span>
            <span class="nav-text">Dolci</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <a routerLink="/menu/bibite"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <span class="nav-emoji">üçµ</span>
            <span class="nav-text">Bibite</span>
          </div>
          <div class="nav-glow"></div>
        </a>

        <!-- Divider -->
        <div class="nav-divider-luxury"></div>

        <!-- Recensioni -->
        <a routerLink="/reviews"
           routerLinkActive="active"
           class="nav-item-luxury">
          <div class="nav-content">
            <i class="bi bi-star-fill nav-icon"></i>
            <span class="nav-text">Recensioni</span>
          </div>
          <div class="nav-glow"></div>
        </a>
      </ng-container>

    </nav>
  </div>

  <!-- Footer with decorative elements -->
  <div class="sidebar-footer-luxury">
    <!-- Reset Tavolo (solo se conto richiesto E non loggata) -->
    <div *ngIf="!isLogged && isContoRichiesto()" class="reset-tavolo-section">
      <button class="btn-reset-tavolo" (click)="resetTavolo()">
        <i class="bi bi-arrow-clockwise"></i>
        <span>Nuovo Tavolo</span>
      </button>
    </div>

    <div class="footer-decoration">
      <div class="decoration-line"></div>
      <div class="decoration-center">‚ú®</div>
      <div class="decoration-line"></div>
    </div>
  </div>
</div>
