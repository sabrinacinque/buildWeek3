import{a as le}from"./chunk-3GQBDF2T.js";import{a as oe}from"./chunk-GQJKORC2.js";import"./chunk-IDADSUUJ.js";import{a as ge}from"./chunk-IEEPVKIX.js";import{m as re,n as ae}from"./chunk-SCFMMJMN.js";import{a as G,b as Q,d as H,e as Z,f as $,g as J,h as K,i as X,l as Y,m as ee,n as te,o as ie,q as ne}from"./chunk-NQJKZR6M.js";import{$ as V,Ca as W,Ea as k,F as S,Fa as z,Ga as B,Ha as L,Ia as m,Ja as x,K as D,Ka as w,L as P,Ma as u,Na as _,Oa as f,Q as s,R as p,Sa as N,Ta as O,Ua as A,Y as T,_ as d,bb as F,cb as j,d as pe,fb as q,ga as h,gb as R,ia as g,ob as U,qa as r,qb as I,ra as a,sa as v,ta as C,ya as b,za as c}from"./chunk-WGR6NMIH.js";var y=pe(ge());var ue=["createProductModal"];function _e(n,l){if(n&1&&v(0,"img",24),n&2){let t=c().$implicit;W("alt",t.titolo),g("src","../../../assets/image/png/"+t.img,T)}}function fe(n,l){if(n&1){let t=C();r(0,"input",25),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.img,e)||(o.img=e),p(e)}),a()}if(n&2){let t=c().$implicit;u("ngModel",t.img)}}function he(n,l){if(n&1){let t=C();r(0,"input",26),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.titolo,e)||(o.titolo=e),p(e)}),a()}if(n&2){let t=c().$implicit;u("ngModel",t.titolo)}}function Ce(n,l){if(n&1&&(r(0,"span"),m(1),a()),n&2){let t=c().$implicit;d(),x(t.titolo)}}function be(n,l){if(n&1){let t=C();r(0,"input",26),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.ingredienti,e)||(o.ingredienti=e),p(e)}),a()}if(n&2){let t=c().$implicit;u("ngModel",t.ingredienti)}}function xe(n,l){if(n&1&&(r(0,"span"),m(1),a()),n&2){let t=c().$implicit;d(),x(t.ingredienti)}}function Me(n,l){if(n&1){let t=C();r(0,"input",27),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.prezzo,e)||(o.prezzo=e),p(e)}),a()}if(n&2){let t=c().$implicit;u("ngModel",t.prezzo)}}function we(n,l){if(n&1&&(r(0,"span"),m(1),N(2,"currency"),a()),n&2){let t=c().$implicit;d(),x(O(2,1,t.prezzo,"EUR"))}}function ye(n,l){if(n&1&&(r(0,"option",30),m(1),a()),n&2){let t=l.$implicit;g("value",t),d(),w(" ",t," ")}}function Se(n,l){if(n&1){let t=C();r(0,"select",28),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.categoria,e)||(o.categoria=e),p(e)}),h(1,ye,2,2,"option",29),a()}if(n&2){let t=c().$implicit,i=c();u("ngModel",t.categoria),d(),g("ngForOf",i.categories)}}function Pe(n,l){if(n&1&&(r(0,"span"),m(1),a()),n&2){let t=c().$implicit;d(),x(t.categoria)}}function Ee(n,l){if(n&1){let t=C();r(0,"input",31),f("ngModelChange",function(e){s(t);let o=c().$implicit;return _(o.disponibile,e)||(o.disponibile=e),p(e)}),a()}if(n&2){let t=c().$implicit;u("ngModel",t.disponibile)}}function Ve(n,l){if(n&1&&(r(0,"span"),m(1),a()),n&2){let t=c().$implicit;d(),x(t.disponibile?"si":"no")}}function ve(n,l){if(n&1){let t=C();r(0,"tr")(1,"td",12),m(2),a(),r(3,"td",13),h(4,_e,1,2,"img",14)(5,fe,1,1,"input",15),a(),r(6,"td",12),h(7,he,1,1,"input",16)(8,Ce,2,1,"span",17),a(),r(9,"td",12),h(10,be,1,1,"input",16)(11,xe,2,1,"span",17),a(),r(12,"td",13),h(13,Me,1,1,"input",18)(14,we,3,4,"span",17),a(),r(15,"td",13),h(16,Se,2,2,"select",19)(17,Pe,2,1,"span",17),a(),r(18,"td",13),h(19,Ee,1,1,"input",20)(20,Ve,2,1,"span",17),a(),r(21,"td",13)(22,"button",21),b("click",function(){let e=s(t).$implicit,o=c();return p(o.delete(e.id))}),v(23,"i",22),a(),r(24,"button",23),b("click",function(){let e=s(t).$implicit,o=c();return p(o.toggleEditMode(e.id))}),m(25),a()()()}if(n&2){let t=l.$implicit,i=c();d(2),w(" ",t.id," "),d(2),g("ngIf",!i.editMode[t.id]),d(),g("ngIf",i.editMode[t.id]),d(2),g("ngIf",i.editMode[t.id]),d(),g("ngIf",!i.editMode[t.id]),d(2),g("ngIf",i.editMode[t.id]),d(),g("ngIf",!i.editMode[t.id]),d(2),g("ngIf",i.editMode[t.id]),d(),g("ngIf",!i.editMode[t.id]),d(2),g("ngIf",i.editMode[t.id]),d(),g("ngIf",!i.editMode[t.id]),d(2),g("ngIf",i.editMode[t.id]),d(),g("ngIf",!i.editMode[t.id]),d(5),w(" ",i.editMode[t.id]?"Conferma Modifica":"Modifica"," ")}}function Ie(n,l){if(n&1&&(r(0,"option",30),m(1),a()),n&2){let t=l.$implicit;g("value",t),d(),w(" ",t," ")}}function De(n,l){if(n&1){let t=C();r(0,"div",32)(1,"h4",33),m(2,"Aggiungi Nuovo Prodotto"),a(),r(3,"button",34),b("click",function(){let e=s(t).$implicit;return p(e.dismiss("Cross click"))}),a()(),r(4,"div",35)(5,"form",36),b("ngSubmit",function(){let e=s(t).$implicit,o=c();return p(o.createProduct(e))}),r(6,"div",37)(7,"label",38),m(8,"Titolo"),a(),r(9,"input",39),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.titolo,e)||(o.newProduct.titolo=e),p(e)}),a()(),r(10,"div",37)(11,"label",40),m(12,"Ingredienti"),a(),r(13,"input",41),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.ingredienti,e)||(o.newProduct.ingredienti=e),p(e)}),a()(),r(14,"div",37)(15,"label",42),m(16,"URL Immagine"),a(),r(17,"input",43),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.img,e)||(o.newProduct.img=e),p(e)}),a()(),r(18,"div",37)(19,"label",44),m(20,"Categoria"),a(),r(21,"select",45),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.categoria,e)||(o.newProduct.categoria=e),p(e)}),h(22,Ie,2,2,"option",29),a()(),r(23,"div",37)(24,"label",46),m(25,"Prezzo"),a(),r(26,"input",47),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.prezzo,e)||(o.newProduct.prezzo=e),p(e)}),a()(),r(27,"div",48)(28,"input",49),f("ngModelChange",function(e){s(t);let o=c();return _(o.newProduct.disponibile,e)||(o.newProduct.disponibile=e),p(e)}),a(),r(29,"label",50),m(30,"Disponibile"),a()(),r(31,"button",51),m(32,"Crea Prodotto"),a()()()}if(n&2){let t=c();d(9),u("ngModel",t.newProduct.titolo),d(4),u("ngModel",t.newProduct.ingredienti),d(4),u("ngModel",t.newProduct.img),d(4),u("ngModel",t.newProduct.categoria),d(),g("ngForOf",t.categories),d(4),u("ngModel",t.newProduct.prezzo),d(2),u("ngModel",t.newProduct.disponibile)}}var ce=(()=>{let l=class l{constructor(i,e){this.menuSvc=i,this.modalService=e,this.menu=[],this.filteredMenu=[],this.selectedMenuItem=null,this.editMode={},this.searchCategory="",this.newProduct={},this.categories=["Antipasti","Zuppe","Primi","Hosomaki","Uramaki","Temaki","Sushi","Secondi","Dolci","Bibite"]}ngOnInit(){this.getAll()}getAll(){this.menuSvc.getAll().subscribe(i=>{this.menu=i,this.filteredMenu=i})}getById(i){this.menuSvc.getById(i).subscribe(e=>{this.selectedMenuItem=e})}createProduct(i){this.menuSvc.create(this.newProduct).subscribe(e=>{this.menu.push(e),this.filteredMenu=this.menu,y.default.fire({icon:"success",title:"Successo",text:"Prodotto creato con successo!"}),i.close(),this.newProduct={}})}update(i){this.menuSvc.update(i).subscribe(()=>{let e=this.menu.findIndex(o=>o.id===i.id);e!==-1&&(this.menu[e]=i,this.editMode[i.id]=!1,y.default.fire({icon:"success",title:"Successo",text:"Prodotto modificato con successo!"}))})}delete(i){y.default.fire({title:"Sei sicuro?",text:"Non potrai annullare questa azione!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xEC, cancellalo!",cancelButtonText:"Annulla"}).then(e=>{e.isConfirmed&&this.menuSvc.delete(i).subscribe(()=>{this.menu=this.menu.filter(o=>o.id!==i),this.filteredMenu=this.menu,y.default.fire("Cancellato!","L'elemento \xE8 stato cancellato.","success")})})}toggleEditMode(i){if(this.editMode[i]=!this.editMode[i],!this.editMode[i]){let e=this.menu.find(o=>o.id===i);e&&this.update(e)}}openCreateModal(i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"})}filterPosts(i){let e=i.target.value.toLowerCase();this.filteredMenu=this.menu.filter(o=>o.categoria.toLowerCase().includes(e)||o.titolo.toLowerCase().includes(e))}};l.\u0275fac=function(e){return new(e||l)(V(oe),V(re))},l.\u0275cmp=D({type:l,selectors:[["app-dashboard"]],viewQuery:function(e,o){if(e&1&&k(ue,5),e&2){let M;z(M=B())&&(o.createProductModal=M.first)}},decls:31,vars:1,consts:[["createProductModal",""],[1,"btn","ms-5","my-5","btn-color1",3,"click"],["routerLink","cucina",1,"btn","ms-5","my-5","btn-color1"],[1,"container-fluid","p-5","pt-1","font-PermanentGotham"],[1,"input-group","mb-3"],["type","text","placeholder","Cerca",1,"form-control",3,"input"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"border-right"],[1,"text-center","border-right"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"table-bg","border-right"],[1,"text-center","table-bg","border-right"],["width","50","height","50",3,"src","alt",4,"ngIf"],["placeholder","URL Immagine",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["type","number",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-select",3,"ngModel","ngModelChange",4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-danger","me-2","mb-2",3,"click"],[1,"bi","bi-trash3"],[1,"btn","btn-warning",3,"click"],["width","50","height","50",3,"src","alt"],["placeholder","URL Immagine",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","productName",1,"form-label"],["type","text","id","productName","name","titolo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productIngredients",1,"form-label"],["type","text","id","productIngredients","name","ingredienti","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImage",1,"form-label"],["type","text","id","productImage","name","img","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory",1,"form-label"],["id","productCategory","name","categoria","required","",1,"form-select",3,"ngModelChange","ngModel"],["for","productPrice",1,"form-label"],["type","number","id","productPrice","name","prezzo","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","productAvailable","name","disponibile",1,"form-check-input",3,"ngModelChange","ngModel"],["for","productAvailable",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){if(e&1){let M=C();r(0,"button",1),b("click",function(){s(M);let E=L(30);return p(o.openCreateModal(E))}),m(1,` Aggiungi Nuovo Prodotto
`),a(),r(2,"button",2),m(3,"Ordini"),a(),r(4,"div",3)(5,"div",4)(6,"input",5),b("input",function(E){return s(M),p(o.filterPosts(E))}),a()(),r(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th",8),m(12,"#"),a(),r(13,"th",9),m(14,"Immagine"),a(),r(15,"th",8),m(16,"Titolo"),a(),r(17,"th",8),m(18,"Ingredienti"),a(),r(19,"th",9),m(20,"Prezzo"),a(),r(21,"th",9),m(22,"Categoria"),a(),r(23,"th",9),m(24,"Disponibile"),a(),r(25,"th",10),m(26,"Azioni"),a()()(),r(27,"tbody"),h(28,ve,26,14,"tr",11),a()()(),h(29,De,33,7,"ng-template",null,0,A),a()}e&2&&(d(28),g("ngForOf",o.filteredMenu))},dependencies:[F,j,U,K,ee,te,Q,X,G,Y,H,Z,ie,J,$,q],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css";.input-group[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:80%}.btn-color1[_ngcontent-%COMP%]{background-color:#99735e;color:#fff}.font-PermanentGotham[_ngcontent-%COMP%]{font-family:GothamPro;font-weight:400;font-style:normal}.table-bg[_ngcontent-%COMP%]{background-color:#ae9b8d}.border-right[_ngcontent-%COMP%]{border-right:1px solid #99735e}.btn-color2[_ngcontent-%COMP%]{background-color:#99735e;color:#fff}img[_ngcontent-%COMP%]{object-fit:contain}tr[_ngcontent-%COMP%]{vertical-align:middle}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto;-webkit-overflow-scrolling:touch;height:500px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}']});let n=l;return n})();var Te=[{path:"",component:ce},{path:"cucina",component:le}],me=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=P({type:l}),l.\u0275inj=S({imports:[I.forChild(Te),I]});let n=l;return n})();var Ze=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=P({type:l}),l.\u0275inj=S({imports:[R,me,ne,ae]});let n=l;return n})();export{Ze as DashboardModule};
