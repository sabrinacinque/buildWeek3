import{a as P}from"./chunk-2UDSN65M.js";import{a as D}from"./chunk-IEEPVKIX.js";import{b as C,d as S,e as x,h as y,j as F,k as N,p as E,q as M,r as L}from"./chunk-NQJKZR6M.js";import{$ as c,F as a,Ia as u,K as p,L as m,_ as g,d as k,gb as b,ia as h,nb as w,qa as n,qb as f,ra as r,sa as l,ya as v}from"./chunk-WGR6NMIH.js";var d=k(D());var I=(()=>{let t=class t{constructor(o,i,s){this.authService=o,this.router=i,this.fb=s,this.newUser={},this.userLogged={email:"hita@mailinator.com",password:"Pa$$w0rd!"},this.isLogged=this.authService.isLogged}ngOnInit(){this.userForm=this.authService.getUserLogin()}register(){return this.authService.register(this.newUser).subscribe(()=>{this.router.navigate(["/auth"])})}login(){this.userForm.invalid||this.userForm.untouched?d.default.fire({title:"Attenzione! Email o Password Errati o non inseriti",text:"Controlla i dati o registrati se non sei registrato",icon:"warning"}):(this.authService.createNew(this.userLogged,this.userForm),this.authService.login(this.userLogged).subscribe(()=>{d.default.fire({text:"Login effettuato con successo!",icon:"success"}),this.router.navigate(["/dashboard"])},o=>{d.default.fire({title:"Attenzione! Email o Password Errati o non inseriti",text:"Controlla i dati o registrati se non sei registrato",icon:"warning"})}))}logout(){this.authService.logout()}};t.\u0275fac=function(i){return new(i||t)(c(P),c(w),c(E))},t.\u0275cmp=p({type:t,selectors:[["app-auth"]],decls:15,vars:1,consts:[["id","container",1,"d-flex","flex-column"],["src","../../assets/image/sfondo_per_area_riservata.webp","alt","img area sfondo_per_area_riservata"],[1,"card","border-0","text-center"],[1,"card-body"],[3,"formGroup"],[1,"form-group","mb-3"],["for","loginEmail"],["formControlName","email","type","email","name","email",1,"form-control","text-center"],["for","loginPassword"],["formControlName","password","type","password","name","password",1,"form-control","text-center"],["type","submit",1,"btn","btn-color1",3,"click"]],template:function(i,s){i&1&&(n(0,"div",0),l(1,"img",1),n(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"label",6),u(7,"EMAIL:"),r(),l(8,"input",7),r(),n(9,"div",5)(10,"label",8),u(11,"PASSWORD:"),r(),l(12,"input",9),r(),n(13,"button",10),v("click",function(){return s.login()}),u(14," Login "),r()()()()()),i&2&&(g(4),h("formGroup",s.userForm))},dependencies:[y,C,S,x,F,N],styles:["#container[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]{margin:auto;width:50%}.btn-color1[_ngcontent-%COMP%]{background-color:#99735e;color:#fff}"]});let e=t;return e})();var O=[{path:"",component:I}],A=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=m({type:t}),t.\u0275inj=a({imports:[f.forChild(O),f]});let e=t;return e})();var K=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=m({type:t}),t.\u0275inj=a({imports:[b,A,M,L]});let e=t;return e})();export{K as AuthModule};
